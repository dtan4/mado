#!/usr/bin/env ruby

require "mado"
require "optparse"

options = {}

OptionParser.new do |opt|
  opt.on("-p port", "Port number (default: 8080)") { |val| options[:port] = val.to_i }
  opt.on("-o addr", "Address to bind (default: 0.0.0.0)") { |val| options[:host] = val }
end.parse!(ARGV.dup)

options[:markdown] = ARGV[-1]

Mado::Server.run(options)
