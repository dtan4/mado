#!/usr/bin/env ruby

require "mado"
require "optparse"

options = {}

argv = OptionParser.new do |opt|
  opt.on("-p port", "Port number (default: 8080)") { |val| options[:port] = val.to_i }
  opt.on("-o addr", "Address to bind (default: 0.0.0.0)") { |val| options[:host] = val }
  opt.on("--debug", "Debug mode") { |val| options[:debug] = val }
end.parse(ARGV)

options[:markdown] = argv.shift

Mado::Server.run(options)
